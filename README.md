
详细介绍

演示地址：https://iot-test.cqkd.com/　　
演示账户：联系技术获取（微信tukun0206）


本系统是基于webman高性能框架开发的一套物联网平台，可以实现物联网设备的DTU设备联网上线、数据采集、命令下发、被动回复、实时通讯等功能，支持TCP协议和Websocket协议（ws和wss），本系统提供的是TCP协议透传，用户需根据实际情况将设备协议转为TCP协议后接入本系统，可使用DTU设备，如土壤传感器、气象设备、温湿度传感器、仪表、传感器、地磅、IO设备、开关量、模拟量、扫码枪、语音播报、身份证读卡器、各类灯具、门禁开关等都支持，实现设备轻松上云。


功能特性


1、设备管理：支持利用TCP协议从设备实时采集数据，支持modbusRTU协议，绑定传感器模板即可采集，。
2、网关管理：支持服务端秒级给设备下发指令，支持以队列的方式下发。
3、被动回复：根据设备发送的特定指令，针对性的回复命令。
4、实时通讯：可以跟设备实时进行通讯，方便验证命令和调试设备。
5、数据转发：可以实现两个或多个设备之间的相互转发，如：想让设备采集的数据直接发送到网页websocket，用转发即可简单实现。

安装使用


1、下载代码部署到服务器上
2、修改配置参数：env文件,其中ip:为所在服务器的公网IP,server_port:webman的http协议监听端口,tcp_port:TCP协议监听端口,ws_port:WebSocket协议监听端口(ws),wss_port:WebSocket协议监听端口(wss),ssl_cert:SSL证书(.crt),ssl_key:SSL证书密钥(.key),super_code:超级权限注册包(注意修改),默认所有的设备收到的消息都会转发消息到这个注册包.
(1)设置的端口要注意开启放行，如果是用的宝塔，在安全栏目添加，如果是阿里云ECS，注意在ECS控制台里添加安全组放行。



启动


根目录里输入php start.php start即可启动，具体可参考webman手册。


##设备操作

##一、添加设备
1、自定义注册包：
（1）必填。自定义注册包是设备与服务端建立连接的唯一凭证，设备在连接服务端时，必须使用自定义注册包，否则服务端会拒绝连接。
（2）自定义注册包可以是任意字符串，但是不能包含英文逗号，否则会导致解析错误。
（3）注册包是设备的唯一ID且不能跟其他设备重复，相当于设备的身份证，用于向服务端验证身份。一般是在使用DTU的时候配置在DTU里，第一次连接服务端的时候，DTU会发送自定义注册包进行身份注册。服务端验证通过后建立连接。
（4）自定义注册包只需在第一次连接服务端时发送，后续连接服务端时，不需要再发送。

2、自定义回复包：非必填，自定义回复包是设备在第一次注册成功时，服务端回复给设备的数据，如果不填写，那么服务端不回复。

3、名称：必填，设备名称。

4、协议类型：
（1）TCP透传：创建一个TCP客户端，设备发送的数据会直接转发给服务端，服务端发送的数据会直接转发给设备。用户可以通过DTU设备，将设备的数据转发给服务端，服务端再转发给设备，这样就实现了设备与服务端的通讯。






