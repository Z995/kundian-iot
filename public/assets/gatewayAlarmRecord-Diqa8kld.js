import{r as y,d as n,c as r,o as i,b as a,w as t,f as o,_ as C,i as D,j as S,p as k,a as b,e as A,t as B}from"./index-3_WCOcxA.js";const K={class:"search-box"},V={__name:"KdGatewayAlarmSearch",emits:["search"],setup(x,{emit:u}){const s=u,p=y({search:{}});function c(){s("search",JSON.parse(JSON.stringify(p.search)))}return(w,e)=>{const l=n("a-option"),_=n("a-select"),f=n("a-range-picker"),m=n("a-button"),g=n("a-space");return i(),r("div",K,[a(g,null,{default:t(()=>[a(_,{placeholder:"请选择网关",class:"w160","allow-clear":""},{default:t(()=>[a(l,null,{default:t(()=>e[0]||(e[0]=[o("网关1")])),_:1,__:[0]}),a(l,null,{default:t(()=>e[1]||(e[1]=[o("网关2")])),_:1,__:[1]}),a(l,null,{default:t(()=>e[2]||(e[2]=[o("网关3")])),_:1,__:[2]})]),_:1}),a(_,{placeholder:"报警状态",class:"w120","allow-clear":""},{default:t(()=>[a(l,null,{default:t(()=>e[3]||(e[3]=[o("全部")])),_:1,__:[3]}),a(l,null,{default:t(()=>e[4]||(e[4]=[o("正常")])),_:1,__:[4]}),a(l,null,{default:t(()=>e[5]||(e[5]=[o("报警")])),_:1,__:[5]})]),_:1}),a(_,{placeholder:"处理状态",class:"w120","allow-clear":""},{default:t(()=>[a(l,null,{default:t(()=>e[6]||(e[6]=[o("全部")])),_:1,__:[6]}),a(l,null,{default:t(()=>e[7]||(e[7]=[o("未处理")])),_:1,__:[7]}),a(l,null,{default:t(()=>e[8]||(e[8]=[o("已处理")])),_:1,__:[8]})]),_:1}),a(f,{class:"w340","show-time":"",format:"YYYY-MM-DD HH:mm"}),a(m,{type:"primary",onClick:c},{default:t(()=>e[9]||(e[9]=[o("查询")])),_:1,__:[9]}),a(m,null,{default:t(()=>e[10]||(e[10]=[o("重置")])),_:1,__:[10]})]),_:1})])}}},Y={class:"kd-content"},M={class:"trigger-con"},R={key:0,class:"normal"},z={key:1,class:"warning"},H={key:0},J={key:1},O={__name:"gatewayAlarmRecord",setup(x){const u=D(),s=y({loading:!1,search:{},info:{page:1,limit:10,count:0,list:[]},selectId:[]});S(()=>{c()});function p(e){s.search=e}function c(e,l){s.info.list=[{id:1,name:"坤典科技测试1号",alarm_con:"网关无线信号强度已高于 弱",time:"2025-06-01 14:24:45",status:1,deal:0},{id:2,name:"坤典科技测试1号",alarm_con:"网关无线信号强度已高于 弱",time:"2025-06-01 14:24:45",status:0,deal:1},{id:3,name:"坤典科技测试1号",alarm_con:"网关无线信号强度已高于 弱",time:"2025-06-01 14:24:45",status:0,deal:1},{id:4,name:"坤典科技测试1号",alarm_con:"网关无线信号强度已高于 弱",time:"2025-06-01 14:24:45",status:1,deal:0}]}function w(e){u.value.show(e)}return(e,l)=>{const _=n("a-button"),f=n("a-space"),m=n("a-tooltip"),g=n("a-popconfirm"),N=n("a-table"),v=n("kd-pager"),I=n("a-card"),h=n("kd-page-box");return i(),k(h,null,{default:t(()=>[b("div",Y,[a(I,{title:"网关报警记录",bordered:!1},{extra:t(()=>[a(f,null,{default:t(()=>[a(_,{disabled:!s.selectId.length,onClick:w},{default:t(()=>l[1]||(l[1]=[o("批量处理")])),_:1,__:[1]},8,["disabled"]),a(_,{disabled:!s.selectId.length},{default:t(()=>l[2]||(l[2]=[o("批量删除")])),_:1,__:[2]},8,["disabled"])]),_:1})]),default:t(()=>[a(V,{onSearch:p}),a(N,{class:"kd-small-table mt20",pagination:!1,"row-key":"id",bordered:!1,data:s.info.list,columns:[{title:"网关名称",dataIndex:"name"},{title:"报警内容",slotName:"alarm_con",width:160},{title:"报警时间",dataIndex:"time",width:160},{title:"报警状态",slotName:"status"},{title:"处理状态",slotName:"deal"},{title:"操作",slotName:"action",fixed:"right",width:130,fixed:"right"}],loading:s.loading,"row-selection":{type:"checkbox",showCheckedAll:!0,width:50},selectedKeys:s.selectId,"onUpdate:selectedKeys":l[0]||(l[0]=d=>s.selectId=d),scroll:{x:1200}},{alarm_con:t(({record:d})=>[a(m,{content:d.alarm_con},{default:t(()=>[b("div",M,B(d.alarm_con),1)]),_:2},1032,["content"])]),status:t(({record:d})=>[d.status===1?(i(),r("span",R,"正常")):(i(),r("span",z,"报警"))]),deal:t(({record:d})=>[d.deal===1?(i(),r("span",H,"未处理")):(i(),r("span",J,"已处理"))]),action:t(({record:d})=>[a(_,{type:"text",class:"ml-10",size:"mini"},{default:t(()=>l[3]||(l[3]=[o("删除")])),_:1,__:[3]}),a(g,{content:"确认处理该报警记录吗?"},{default:t(()=>[d.deal===1?(i(),k(_,{key:0,type:"text",size:"mini"},{default:t(()=>l[4]||(l[4]=[o("处理")])),_:1,__:[4]})):A("",!0)]),_:2},1024)]),_:1},8,["data","loading","selectedKeys"]),a(v,{"page-data":s.info,event:c},null,8,["page-data"])]),_:1})])]),_:1})}}},j=C(O,[["__scopeId","data-v-08c94b53"]]);export{j as default};
