import{i as x,r as b,d as i,p as h,o as q,w as a,b as e,j as I,a as w,f as u}from"./index-BIwpTUVt.js";const C={__name:"KdContactAdd",emits:["success"],setup(V,{expose:_,emit:l}){const s=x(),n=b({show:!1,form:{name:"",phone:"",remark:"",qi_wechat:"",email:""}});function c(t){n.show=!0}async function p(){}return _({show:c}),(t,o)=>{const m=i("a-input"),r=i("a-form-item"),g=i("a-form"),k=i("a-modal");return q(),h(k,{title:"新增联系人",visible:n.show,"onUpdate:visible":o[5]||(o[5]=d=>n.show=d),width:"600px","on-before-ok":p},{default:a(()=>[e(g,{ref_key:"formRef",ref:s,model:n.form,"label-col-props":{flex:"130px"},"wrapper-col-props":{flex:1}},{default:a(()=>[e(r,{label:"联系人姓名",field:"name",rules:[{required:!0,message:"姓名必填"}]},{default:a(()=>[e(m,{modelValue:n.form.name,"onUpdate:modelValue":o[0]||(o[0]=d=>n.form.name=d),placeholder:"请输入联系人姓名"},null,8,["modelValue"])]),_:1}),e(r,{label:"手机号"},{default:a(()=>[e(m,{modelValue:n.form.phone,"onUpdate:modelValue":o[1]||(o[1]=d=>n.form.phone=d),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(r,{label:"邮箱"},{default:a(()=>[e(m,{modelValue:n.form.email,"onUpdate:modelValue":o[2]||(o[2]=d=>n.form.email=d),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(r,{label:"企微群机器人地址"},{default:a(()=>[e(m,{modelValue:n.form.qi_wechat,"onUpdate:modelValue":o[3]||(o[3]=d=>n.form.qi_wechat=d),placeholder:"请输入企微群机器人地址"},null,8,["modelValue"])]),_:1}),e(r,{label:"备注"},{default:a(()=>[e(m,{modelValue:n.form.remark,"onUpdate:modelValue":o[4]||(o[4]=d=>n.form.remark=d),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}},z={class:"kd-content"},N={__name:"contacts",setup(V){const _=x(),l=b({search:{},loading:!1,info:{list:[],page:1,limit:10,count:0},selectId:[]});I(()=>{s(1,10)});function s(p,t){l.info.page=p||l.info.page,l.info.limit=t||l.info.limit,l.info.page,l.info.limit,l.info.list=[{id:1,name:"张三",phone:"13452212345",email:"zhangsan@qq.com",qi_wechat:"-",remark:"测试",update_time:"2025-04-17 11:34:31"},{id:2,name:"李四",phone:"13452212345",email:"zhangsan@qq.com",qi_wechat:"-",remark:"测试",update_time:"2025-04-17 11:34:31"},{id:3,name:"王五",phone:"13452212345",email:"zhangsan@qq.com",qi_wechat:"-",remark:"测试",update_time:"2025-04-17 11:34:31"},{id:4,name:"赵六",phone:"13452212345",email:"zhangsan@qq.com",qi_wechat:"-",remark:"测试",update_time:"2025-04-17 11:34:31"},{id:5,name:"张三1",phone:"13452212345",email:"zhangsan@qq.com",qi_wechat:"-",remark:"测试",update_time:"2025-04-17 11:34:31"}]}function n(p){_.value.show(p)}function c(){l.search={},s(1,l.info.limit)}return(p,t)=>{const o=i("a-button"),m=i("a-space"),r=i("a-input"),g=i("a-popconfirm"),k=i("a-table"),d=i("kd-pager"),y=i("a-card"),v=i("kd-page-box");return q(),h(v,null,{default:a(()=>[w("div",z,[e(y,{title:"报警联系人",bordered:!1},{extra:a(()=>[e(m,null,{default:a(()=>[e(o,{type:"primary",onClick:t[0]||(t[0]=f=>n(null))},{default:a(()=>t[3]||(t[3]=[w("i",{class:"ri-add-line"},null,-1),u("添加联系人 ")])),_:1,__:[3]}),e(o,{disabled:!l.selectId.length},{default:a(()=>t[4]||(t[4]=[u("批量删除")])),_:1,__:[4]},8,["disabled"])]),_:1})]),default:a(()=>[e(m,null,{default:a(()=>[e(r,{placeholder:"联系人姓名，手机号或邮箱",class:"w300"}),e(o,{type:"primary",loading:l.loading,onClick:t[1]||(t[1]=f=>s(1,l.info.limit))},{default:a(()=>t[5]||(t[5]=[u("查询")])),_:1,__:[5]},8,["loading"]),e(o,{onClick:c},{default:a(()=>t[6]||(t[6]=[u("重置")])),_:1,__:[6]})]),_:1}),e(k,{class:"kd-small-table mt20",pagination:!1,"row-key":"id",data:l.info.list,loading:l.loading,bordered:!1,"row-selection":{type:"checkbox",showCheckedAll:!0,width:50},selectedKeys:l.selectId,"onUpdate:selectedKeys":t[2]||(t[2]=f=>l.selectId=f),columns:[{title:"ID",dataIndex:"id",width:80},{title:"联系人姓名",dataIndex:"name"},{title:"手机",dataIndex:"phone"},{title:"邮箱",dataIndex:"email"},{title:"企业微信",dataIndex:"qi_wechat"},{title:"备注",dataIndex:"remark"},{title:"更新时间",dataIndex:"update_time"},{title:"操作",slotName:"action",width:130,fixed:"right"}],scroll:{x:1200}},{action:a(({record:f})=>[e(o,{type:"text",size:"mini",class:"ml-10",onClick:U=>n(f)},{default:a(()=>t[7]||(t[7]=[u("编辑")])),_:2,__:[7]},1032,["onClick"]),e(g,{content:"确认删除联系人吗?"},{default:a(()=>[e(o,{type:"text",size:"mini"},{default:a(()=>t[8]||(t[8]=[u("删除")])),_:1,__:[8]})]),_:1})]),_:1},8,["data","loading","selectedKeys"]),e(d,{"page-data":l.info,event:s},null,8,["page-data"])]),_:1})]),e(C,{ref_key:"addRef",ref:_,onSuccess:s},null,512)]),_:1})}}};export{N as default};
