import{c as G}from"./constantData-DLrCubd0.js";import{g as E,s as H,a as P,d as Q}from"./kdTrigger-DtvB4RHr.js";import{g as W}from"./kdDevice-DVsktYij.js";import{i as M,r as J,d as g,c as _,e as f,o as s,b as o,w as t,p as L,f as b,F as $,l as C,t as r,u as X,a as u,M as R,_ as Y,j as Z}from"./index-whL21Ijk.js";const ee={key:0},ie={key:0,class:"mt20"},ae={key:1,class:"mt20"},le={__name:"KdIndependTriggerAdd",emits:["success"],setup(j,{expose:I,emit:d}){const v=d,h=M(),e=J({show:!1,loading:!1,form:{id:0,name:"",trigger_type:1,device_id:null,subordinate_id:null,subordinate_variable_id:null,condition:null,condition_parameter:{A:"",B:""},dead_zone:"",is_alarm:0,alarm_push:"",resume_push:"",is_linkage:0,linkage_type:1,linkage_device_id:null,linkage_subordinate_id:null,linkage_subordinate_variable_id:null,control_type:1,number:"",status:0},rules:{subordinate_variable_id:[{required:!0,message:"设备变量必选"},{validator:(c,i)=>{!e.form.device_id||!e.form.subordinate_id||!e.form.subordinate_variable_id?i("设备模板变量必选"):i()}}],condition:[{required:!0,message:"触发条件必选"},{validator:(c,i)=>{e.form.condition?["2","6"].includes(e.form.condition)&&!e.form.condition_parameter.A?i("请输入A的值"):e.form.condition==="3"&&!e.form.condition_parameter.B?i("请输入B的值"):["4","5"].includes(e.form.condition)&&(!e.form.condition_parameter.B||!e.form.condition_parameter.A)?i("请输入A和B的值"):i():i("触发条件必选")}}],linkage_subordinate_variable_id:[{required:!0,message:"联动变量必选"},{validator:(c,i)=>{!e.form.linkage_device_id||!e.form.linkage_subordinate_id||!e.form.linkage_subordinate_variable_id?i("联动变量必选"):i()}}]},deviceList:[],slaveList:[],deviceData:[],linkSlaveList:[],linkDeviceData:[]});async function T(c){e.show=!0;let i=await W({page:1,limit:999});i.code===200&&(e.deviceList=i.data.list);let a=null;c&&(e.loading=!0,a=(await E({id:c})).data),e.form={id:c,name:a?a.name:"",trigger_type:a?a.trigger_type:1,device_id:a?a.device_id:null,subordinate_id:a?a.subordinate_id:null,subordinate_variable_id:a?a.subordinate_variable_id:null,condition:a?a.condition+"":"",condition_parameter:{A:a?a.condition_parameter.A:"",B:a?a.condition_parameter.B:""},dead_zone:a?a.dead_zone:"",resume_push:a?a.resume_push:"",alarm_push:a?a.alarm_push:"",is_linkage:a?a.is_linkage:0,is_alarm:a?a.is_alarm:0,linkage_type:a?a.linkage_type:1,linkage_device_id:a?a.linkage_device_id:null,linkage_subordinate_id:a?a.linkage_subordinate_id:null,linkage_subordinate_variable_id:a?a.linkage_subordinate_variable_id:null,control_type:a?a.control_type:1,number:a?a.number:"",status:a?a.status:0},e.loading=!1,e.form.device_id&&z(),e.form.linkage_device_id&&V()}function z(){var a;e.slaveList=[],e.deviceData=[],e.form.subordinate_id=null,e.form.subordinate_variable_id=null;let{device_id:c}=e.form,i=e.deviceList.find(p=>p.id==c);i&&((a=i.subordinate)!=null&&a.length)&&(e.slaveList=i.subordinate,e.form.subordinate_id=e.slaveList[0].id,O())}function O(){var a;e.deviceData=[],e.form.subordinate_variable_id=null;let{subordinate_id:c}=e.form,i=e.slaveList.find(p=>p.id===c);i&&((a=i.variable)!=null&&a.length)&&(e.deviceData=i.variable,e.form.subordinate_variable_id=e.deviceData[0].id)}function V(){var a;e.linkSlaveList=[],e.linkDeviceData=[],e.form.linkage_subordinate_id=null,e.form.linkage_subordinate_variable_id=null;let{linkage_device_id:c}=e.form,i=e.deviceList.find(p=>p.id==c);i&&((a=i.subordinate)!=null&&a.length)&&(e.linkSlaveList=i.subordinate,e.form.linkage_subordinate_id=e.linkSlaveList[0].id,m())}function m(){var a;e.linkDeviceData=[],e.form.linkage_subordinate_variable_id=null;let{linkage_subordinate_id:c}=e.form,i=e.linkSlaveList.find(p=>p.id===c);i&&((a=i.variable)!=null&&a.length)&&(e.linkDeviceData=i.variable,e.form.linkage_subordinate_variable_id=e.linkDeviceData[0].id)}async function w(){if(await h.value.validate())return!1;let i=JSON.parse(JSON.stringify(e.form));i.id||delete i.id;let a=await H(i);return a.code===200?(R.success("保存成功"),v("success"),!0):(R.error(a.msg),!1)}return I({show:T}),(c,i)=>{const a=g("a-input"),p=g("a-form-item"),A=g("a-radio"),S=g("a-radio-group"),x=g("a-option"),D=g("a-select"),n=g("a-space"),k=g("a-switch"),U=g("a-textarea"),B=g("a-form"),q=g("a-spin"),F=g("a-drawer");return e.show?(s(),_("div",ee,[o(F,{title:"添加独立触发器",visible:e.show,"onUpdate:visible":i[20]||(i[20]=l=>e.show=l),"on-before-ok":w,width:"800px"},{default:t(()=>[o(q,{loading:e.loading,tip:"数据加载中..."},{default:t(()=>[e.show?(s(),L(B,{key:0,model:e.form,ref_key:"formRef",ref:h,"label-col-props":{flex:"130px"},"wrapper-col-props":{flex:1},rules:e.rules},{default:t(()=>[o(p,{label:"触发器名称",field:"name",rules:[{required:!0,message:"触发器名称必填"}]},{default:t(()=>[o(a,{modelValue:e.form.name,"onUpdate:modelValue":i[0]||(i[0]=l=>e.form.name=l),placeholder:"请输入触发器名称",class:"w500"},null,8,["modelValue"])]),_:1}),o(p,{label:"触发器类型",required:""},{default:t(()=>[o(S,{modelValue:e.form.trigger_type,"onUpdate:modelValue":i[1]||(i[1]=l=>e.form.trigger_type=l)},{default:t(()=>[o(A,{value:1},{default:t(()=>i[21]||(i[21]=[b("设备")])),_:1,__:[21]})]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"选择设备和变量",field:"subordinate_variable_id"},{default:t(()=>[o(n,null,{default:t(()=>[o(D,{placeholder:"请选择设备",class:"w160",modelValue:e.form.device_id,"onUpdate:modelValue":i[2]||(i[2]=l=>e.form.device_id=l),onChange:z},{default:t(()=>[(s(!0),_($,null,C(e.deviceList,(l,y)=>(s(),L(x,{key:y,value:l.id},{default:t(()=>[b(r(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(D,{placeholder:"请选择从机",class:"w160",modelValue:e.form.subordinate_id,"onUpdate:modelValue":i[3]||(i[3]=l=>e.form.subordinate_id=l)},{default:t(()=>[(s(!0),_($,null,C(e.slaveList,(l,y)=>(s(),L(x,{key:y,value:l.id},{default:t(()=>{var N;return[b(r((N=l.subordinate)==null?void 0:N.name),1)]}),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(D,{placeholder:"请选择变量",class:"w160",modelValue:e.form.subordinate_variable_id,"onUpdate:modelValue":i[4]||(i[4]=l=>e.form.subordinate_variable_id=l)},{default:t(()=>[(s(!0),_($,null,C(e.deviceData,(l,y)=>(s(),L(x,{key:y,value:l.id},{default:t(()=>[b(r(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(p,{label:"触发条件",field:"condition"},{default:t(()=>[o(n,null,{default:t(()=>[o(D,{modelValue:e.form.condition,"onUpdate:modelValue":i[5]||(i[5]=l=>e.form.condition=l),placeholder:"请选择触发条件",class:"w160"},{default:t(()=>[(s(!0),_($,null,C(X(G).triggerCondition,(l,y)=>(s(),L(x,{value:y},{default:t(()=>[b(r(l),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),["2","4","5","6"].includes(e.form.condition)?(s(),L(a,{key:0,modelValue:e.form.condition_parameter.A,"onUpdate:modelValue":i[6]||(i[6]=l=>e.form.condition_parameter.A=l),placeholder:"请输入A的值",class:"w160"},null,8,["modelValue"])):f("",!0),["3","4","5"].includes(e.form.condition)?(s(),L(a,{key:1,modelValue:e.form.condition_parameter.B,"onUpdate:modelValue":i[7]||(i[7]=l=>e.form.condition_parameter.B=l),placeholder:"请输入B的值",class:"w160"},null,8,["modelValue"])):f("",!0)]),_:1})]),_:1}),["2","3","4","5","6"].includes(e.form.condition)?(s(),L(p,{key:0,label:"报警死区"},{default:t(()=>[o(a,{modelValue:e.form.dead_zone,"onUpdate:modelValue":i[8]||(i[8]=l=>e.form.dead_zone=l),placeholder:"请输入触发阈值",class:"w500"},null,8,["modelValue"])]),_:1})):f("",!0),o(p,{label:"报警"},{default:t(()=>[o(k,{modelValue:e.form.is_alarm,"onUpdate:modelValue":i[9]||(i[9]=l=>e.form.is_alarm=l),"checked-value":1,"unchecked-value":0},null,8,["modelValue"])]),_:1}),e.form.is_alarm===1?(s(),_($,{key:1},[o(p,{label:"报警推送内容"},{default:t(()=>[o(U,{placeholder:"请输入报警推送内容",style:{height:"80px"},"max-length":50,"allow-clear":"","show-word-limit":"",class:"w500",modelValue:e.form.alarm_push,"onUpdate:modelValue":i[10]||(i[10]=l=>e.form.alarm_push=l)},null,8,["modelValue"])]),_:1}),o(p,{label:"恢复正常推送内容"},{default:t(()=>[o(U,{placeholder:"请输入恢复正常推送内容",style:{height:"80px"},"max-length":50,"allow-clear":"","show-word-limit":"",class:"w500",modelValue:e.form.resume_push,"onUpdate:modelValue":i[11]||(i[11]=l=>e.form.resume_push=l)},null,8,["modelValue"])]),_:1})],64)):f("",!0),o(p,{label:"联动"},{default:t(()=>[o(k,{modelValue:e.form.is_linkage,"onUpdate:modelValue":i[12]||(i[12]=l=>e.form.is_linkage=l),"checked-value":1,"unchecked-value":0},null,8,["modelValue"])]),_:1}),e.form.is_linkage===1?(s(),_($,{key:2},[o(p,{label:"联动类型",required:""},{default:t(()=>[o(S,{modelValue:e.form.linkage_type,"onUpdate:modelValue":i[13]||(i[13]=l=>e.form.linkage_type=l)},{default:t(()=>[o(A,{value:1},{default:t(()=>i[22]||(i[22]=[b("采集")])),_:1,__:[22]}),o(A,{value:2},{default:t(()=>i[23]||(i[23]=[b("控制")])),_:1,__:[23]})]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"联动变量",field:"linkage_subordinate_variable_id"},{default:t(()=>[u("div",null,[o(n,null,{default:t(()=>[o(D,{placeholder:"请选择设备",class:"w160",modelValue:e.form.linkage_device_id,"onUpdate:modelValue":i[14]||(i[14]=l=>e.form.linkage_device_id=l),onChange:V},{default:t(()=>[(s(!0),_($,null,C(e.deviceList,(l,y)=>(s(),L(x,{key:y,value:l.id},{default:t(()=>[b(r(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(D,{placeholder:"请选择从机",class:"w160",modelValue:e.form.linkage_subordinate_id,"onUpdate:modelValue":i[15]||(i[15]=l=>e.form.linkage_subordinate_id=l),onChange:m},{default:t(()=>[(s(!0),_($,null,C(e.linkSlaveList,(l,y)=>(s(),L(x,{key:y,value:l.id},{default:t(()=>{var N;return[b(r((N=l.subordinate)==null?void 0:N.name),1)]}),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(D,{placeholder:"请选择变量",class:"w160",modelValue:e.form.linkage_subordinate_variable_id,"onUpdate:modelValue":i[16]||(i[16]=l=>e.form.linkage_subordinate_variable_id=l)},{default:t(()=>[(s(!0),_($,null,C(e.linkDeviceData,(l,y)=>(s(),L(x,{key:y,value:l.id},{default:t(()=>[b(r(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.form.linkage_type===2?(s(),_("div",ie,[o(S,{modelValue:e.form.control_type,"onUpdate:modelValue":i[17]||(i[17]=l=>e.form.control_type=l)},{default:t(()=>[o(A,{value:1},{default:t(()=>i[24]||(i[24]=[b("手动下发")])),_:1,__:[24]}),o(A,{value:2},{default:t(()=>i[25]||(i[25]=[b("取报警值")])),_:1,__:[25]})]),_:1},8,["modelValue"])])):f("",!0),e.form.linkage_type===2&&e.form.control_type===1?(s(),_("div",ae,[o(U,{placeholder:"请输入下发数据（十进制）",style:{height:"80px"},"max-length":50,"allow-clear":"","show-word-limit":"",class:"w500",modelValue:e.form.number,"onUpdate:modelValue":i[18]||(i[18]=l=>e.form.number=l)},null,8,["modelValue"])])):f("",!0)])]),_:1})],64)):f("",!0),o(p,{label:"设备状态"},{default:t(()=>[o(k,{modelValue:e.form.status,"onUpdate:modelValue":i[19]||(i[19]=l=>e.form.status=l),"checked-value":1,"unchecked-value":0,"checked-text":"开启","unchecked-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])):f("",!0)]),_:1},8,["loading"])]),_:1},8,["visible"])])):f("",!0)}}},te={key:0},ne={class:"info-box"},oe={key:0,class:"info-box"},de={class:"info-item flex"},se={class:"ii-value"},ue={class:"info-item flex"},re={class:"ii-value"},_e={class:"info-item flex"},me={class:"ii-value"},fe={key:0},pe={key:1},ve={key:2},ce={key:3},ge={key:4},ke={key:5},be={key:6},Ve={class:"info-item flex"},ye={class:"ii-value"},we={class:"info-item flex"},he={class:"ii-value"},xe={class:"info-item flex"},De={class:"ii-value"},Ue={class:"info-item flex"},Le={class:"ii-value"},$e={class:"info-item flex"},Ae={class:"ii-value"},Be={key:0},Se={key:0,class:"info-item flex"},Ne={class:"ii-value"},Ce={__name:"KdIndependTriggerDetail",setup(j,{expose:I}){const d=J({show:!1,loading:!1,info:null});function v(h){d.show=!0,d.loading=!0,E({id:h}).then(e=>{d.loading=!1,d.info=e.data}).catch(()=>{d.loading=!1})}return I({show:v}),(h,e)=>{const T=g("a-switch"),z=g("a-spin"),O=g("a-modal");return d.show?(s(),_("div",te,[o(O,{title:"独立触发器信息",visible:d.show,"onUpdate:visible":e[2]||(e[2]=V=>d.show=V),width:"600px",footer:null},{default:t(()=>[o(z,{loading:d.loading,tip:"数据加载中...",style:{width:"100%"}},{default:t(()=>{var V,m,w,c,i,a,p,A,S,x,D,n,k,U,B,q,F,l,y,N;return[u("div",ne,[d.info?(s(),_("div",oe,[u("div",de,[e[3]||(e[3]=u("div",{class:"ii-title"},"触发器名称：",-1)),u("div",se,r(d.info.name),1)]),u("div",ue,[e[4]||(e[4]=u("div",{class:"ii-title"},"模板和变量：",-1)),u("div",re,[u("span",null,r(((V=d.info.device)==null?void 0:V.name)||"-")+"-",1),u("span",null,r(((w=(m=d.info.subordinate)==null?void 0:m.subordinate)==null?void 0:w.name)||"-")+"-",1),u("span",null,r(((c=d.info.subordinateVariable)==null?void 0:c.name)||"-")+"-",1)])]),u("div",_e,[e[5]||(e[5]=u("div",{class:"ii-title"},"触发条件：",-1)),u("div",me,[d.info.condition===0?(s(),_("span",fe,"开关OFF")):f("",!0),d.info.condition===1?(s(),_("span",pe,"开关ON")):f("",!0),d.info.condition===2?(s(),_("span",ve,"数值小于"+r((i=d.info)==null?void 0:i.condition_parameter.A),1)):f("",!0),d.info.condition===3?(s(),_("span",ce,"数值大于"+r((a=d.info)==null?void 0:a.condition_parameter.B),1)):f("",!0),d.info.condition===4?(s(),_("span",ge,"数值大于"+r((p=d.info)==null?void 0:p.condition_parameter.A)+"且小于"+r((A=d.info)==null?void 0:A.condition_parameter.B),1)):f("",!0),d.info.condition===5?(s(),_("span",ke,"数值小于"+r((S=d.info)==null?void 0:S.condition_parameter.A)+"或大于"+r((x=d.info)==null?void 0:x.condition_parameter.B),1)):f("",!0),d.info.condition===6?(s(),_("span",be,"数值等于"+r((D=d.info)==null?void 0:D.condition_parameter.A),1)):f("",!0)])]),u("div",Ve,[e[6]||(e[6]=u("div",{class:"ii-title"},"报警：",-1)),u("div",ye,[o(T,{disabled:"",modelValue:d.info.is_alarm,"onUpdate:modelValue":e[0]||(e[0]=K=>d.info.is_alarm=K),"checked-value":1,"unchecked-value":0},null,8,["modelValue"])])]),d.info.is_alarm===1?(s(),_($,{key:0},[u("div",we,[e[7]||(e[7]=u("div",{class:"ii-title"},"报警推送内容：",-1)),u("div",he,r(d.info.alarm_push),1)]),u("div",xe,[e[8]||(e[8]=u("div",{class:"ii-title"},"恢复正常推送内容：",-1)),u("div",De,r(d.info.resume_push),1)])],64)):f("",!0),u("div",Ue,[e[9]||(e[9]=u("div",{class:"ii-title"},"联动：",-1)),u("div",Le,[o(T,{disabled:"",modelValue:d.info.is_linkage,"onUpdate:modelValue":e[1]||(e[1]=K=>d.info.is_linkage=K),"checked-value":1,"unchecked-value":0},null,8,["modelValue"])])]),d.info.is_linkage===1?(s(),_($,{key:1},[u("div",$e,[e[10]||(e[10]=u("div",{class:"ii-title"},"联动变量：",-1)),u("div",Ae,[b(r((k=(n=d.info)==null?void 0:n.linkageDevice)==null?void 0:k.name)+" - "+r((q=(B=(U=d.info)==null?void 0:U.linkageSubordinate)==null?void 0:B.subordinate)==null?void 0:q.name)+" - "+r((F=d.info)==null?void 0:F.linkageSubordinateVariableId.name)+" ",1),d.info.linkage_type===2?(s(),_("span",Be,"（"+r(((l=d.info)==null?void 0:l.control_type)===2?"手动下发":"取报警值")+"）",1)):f("",!0)])]),((y=d.info)==null?void 0:y.control_type)===2&&d.info.linkage_type===2?(s(),_("div",Se,[e[11]||(e[11]=u("div",{class:"ii-title"},"下发数据：",-1)),u("div",Ne,r((N=d.info)==null?void 0:N.number),1)])):f("",!0)],64)):f("",!0)])):f("",!0)])]}),_:1},8,["loading"])]),_:1},8,["visible"])])):f("",!0)}}},Ie=Y(Ce,[["__scopeId","data-v-b4f77037"]]),Te={class:"kd-content"},ze={key:0},Oe={key:0},qe={key:1},Fe={key:2},Re={key:3},Ke={key:4},Me={key:5},Je={key:6},je={key:0},Ee={key:1},We={__name:"independenceTrigger",setup(j){const I=M(),d=M(),v=J({search:{name:"",device_name:""},loading:!1,info:{list:[],page:1,limit:10,count:0}});Z(()=>{h(1,10)});function h(V,m){v.info.page=V||v.info.page,v.info.limit=m||v.info.limit;let w={page:v.info.page,limit:v.info.limit},{name:c,device_name:i}=v.search;c&&(w.name=c),i&&(w.device_name=i),v.loading=!0,P(w).then(a=>{var p;v.loading=!1,v.info.list=a.data.list,v.info.count=((p=a.data)==null?void 0:p.count)||0}).catch(()=>{v.loading=!1})}function e(V){I.value.show(V)}function T(V){d.value.show(V)}function z(V){Q({id:V}).then(m=>{if(m.code===200){R.success("删除成功"),h();return}R.error(m.msg)})}function O(){v.search={name:"",device_name:""},h(1,v.info.limit)}return(V,m)=>{const w=g("a-button"),c=g("a-space"),i=g("a-input"),a=g("a-switch"),p=g("a-popconfirm"),A=g("a-table"),S=g("kd-pager"),x=g("a-card"),D=g("kd-page-box");return s(),L(D,null,{default:t(()=>[u("div",Te,[o(x,{title:"模板触发器",bordered:!1},{extra:t(()=>[o(c,null,{default:t(()=>[o(w,{type:"primary",onClick:m[0]||(m[0]=n=>e(null))},{default:t(()=>m[4]||(m[4]=[u("i",{class:"ri-add-line"},null,-1),b("添加触发器 ")])),_:1,__:[4]})]),_:1})]),default:t(()=>[o(c,null,{default:t(()=>[o(i,{modelValue:v.search.name,"onUpdate:modelValue":m[1]||(m[1]=n=>v.search.name=n),placeholder:"请输入触发器名称",class:"w200"},null,8,["modelValue"]),o(i,{modelValue:v.search.device_name,"onUpdate:modelValue":m[2]||(m[2]=n=>v.search.device_name=n),placeholder:"请输入设备名称",class:"w200"},null,8,["modelValue"]),o(w,{type:"primary",loading:v.loading,onClick:m[3]||(m[3]=n=>h(1,v.info.limit))},{default:t(()=>m[5]||(m[5]=[b("查询")])),_:1,__:[5]},8,["loading"]),o(w,{onClick:O},{default:t(()=>m[6]||(m[6]=[b("重置")])),_:1,__:[6]})]),_:1}),o(A,{class:"kd-small-table mt20",pagination:!1,"row-key":"id",data:v.info.list,loading:v.loading,bordered:!1,columns:[{title:"ID",dataIndex:"id",width:80},{title:"触发器名称",dataIndex:"name"},{title:"触发器类型",slotName:"trigger_type"},{title:"触发主体",slotName:"device"},{title:"报警变量",slotName:"alarm_data"},{title:"触发条件",slotName:"condition"},{title:"联动",slotName:"link"},{title:"状态",slotName:"status"},{title:"更新时间",dataIndex:"update_time"},{title:"操作",slotName:"action",width:180,fixed:"right"}],scroll:{x:1200}},{trigger_type:t(({record:n})=>[n.trigger_type===1?(s(),_("span",ze,"设备")):f("",!0)]),device:t(({record:n})=>{var k,U,B;return[u("span",null,r((k=n.device)==null?void 0:k.name)+"- "+r((B=(U=n.subordinate)==null?void 0:U.subordinate)==null?void 0:B.name),1)]}),alarm_data:t(({record:n})=>{var k;return[u("span",null,r((k=n.subordinateVariable)==null?void 0:k.name),1)]}),condition:t(({record:n})=>[n.condition===0?(s(),_("span",Oe,"开关OFF")):f("",!0),n.condition===1?(s(),_("span",qe,"开关ON")):f("",!0),n.condition===2?(s(),_("span",Fe,"数值小于"+r(n==null?void 0:n.condition_parameter.A),1)):f("",!0),n.condition===3?(s(),_("span",Re,"数值大于"+r(n==null?void 0:n.condition_parameter.B),1)):f("",!0),n.condition===4?(s(),_("span",Ke,"数值大于"+r(n==null?void 0:n.condition_parameter.A)+"且小于"+r(n==null?void 0:n.condition_parameter.B),1)):f("",!0),n.condition===5?(s(),_("span",Me,"数值小于"+r(n==null?void 0:n.condition_parameter.A)+"或大于"+r(n==null?void 0:n.condition_parameter.B),1)):f("",!0),n.condition===6?(s(),_("span",Je,"数值等于"+r(n==null?void 0:n.condition_parameter.A),1)):f("",!0)]),link:t(({record:n})=>{var k,U,B;return[n.is_linkage===1?(s(),_("div",je,[u("span",null,r(n.linkage_type===1?"采集：":"控制："),1),u("span",null,r((U=(k=n.linkageSubordinate)==null?void 0:k.subordinate)==null?void 0:U.name)+"-",1),u("span",null,r((B=n.linkageSubordinateVariableId)==null?void 0:B.name),1)])):(s(),_("div",Ee,"-"))]}),status:t(({record:n})=>[o(a,{modelValue:n.status,"onUpdate:modelValue":k=>n.status=k,"checked-value":1,"unchecked-value":0},null,8,["modelValue","onUpdate:modelValue"])]),action:t(({record:n})=>[o(w,{type:"text",size:"mini",class:"ml-10",onClick:k=>T(n.id)},{default:t(()=>m[7]||(m[7]=[b("查看")])),_:2,__:[7]},1032,["onClick"]),o(w,{type:"text",size:"mini",class:"ml-10",onClick:k=>e(n.id)},{default:t(()=>m[8]||(m[8]=[b("编辑")])),_:2,__:[8]},1032,["onClick"]),o(p,{content:"确认触发器吗?",onOk:k=>z(n.id)},{default:t(()=>[o(w,{type:"text",size:"mini"},{default:t(()=>m[9]||(m[9]=[b("删除")])),_:1,__:[9]})]),_:2},1032,["onOk"])]),_:1},8,["data","loading"]),o(S,{"page-data":v.info,event:h},null,8,["page-data"])]),_:1})]),o(le,{ref_key:"addRef",ref:I,onSuccess:h},null,512),o(Ie,{ref_key:"detailRef",ref:d},null,512)]),_:1})}}};export{We as default};
