import{r as V,d as r,c as v,e as h,o as b,b as o,w as i,s as C,_ as $,a as d,M as w,i as x,n as U,f as g,t as q,p as D}from"./index-BIwpTUVt.js";const R="/static/img/live/kundian.png",A="/static/img/live/haikang.png",N="/static/img/live/yingshi.png",B="/static/img/live/lecheng.png",O={key:0},Y={__name:"CqkdYingShiYun",setup(_,{expose:u}){const e=V({show:!1,form:{yingshi_appkey:"",yingshi_appSecret:""}});function t(){e.show=!0}async function m(){}return u({show:t}),(f,l)=>{const p=r("a-input"),n=r("a-form-item"),a=r("a-form"),c=r("a-modal");return e.show?(b(),v("div",O,[o(c,{title:"萤石云开发者配置",visible:e.show,"onUpdate:visible":l[2]||(l[2]=s=>e.show=s),width:"600px","on-before-ok":m},{default:i(()=>[o(a,{model:e.form,"label-col-props":{flex:"100px"},"wrapper-col-props":{flex:1}},{default:i(()=>[o(n,{label:"appKey"},{default:i(()=>[o(p,{modelValue:e.form.yingshi_appkey,"onUpdate:modelValue":l[0]||(l[0]=s=>e.form.yingshi_appkey=s),placeholder:"请输入萤石云appKey"},null,8,["modelValue"])]),_:1}),o(n,{label:"appSecret"},{default:i(()=>[o(p,{modelValue:e.form.yingshi_appSecret,"onUpdate:modelValue":l[1]||(l[1]=s=>e.form.yingshi_appSecret=s),placeholder:"请输入萤石云appSecret"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])):h("",!0)}}},z={key:0},E={__name:"CqkdQIniuYun",setup(_,{expose:u}){const e=V({show:!1,form:{qiniu_accessKey:"",qiniu_secretKey:""}});function t(){e.show=!0}async function m(){}return u({show:t}),(f,l)=>{const p=r("a-input"),n=r("a-form-item"),a=r("a-form"),c=r("a-modal");return e.show?(b(),v("div",z,[o(c,{title:"七牛云配置",visible:e.show,"onUpdate:visible":l[2]||(l[2]=s=>e.show=s),width:"600px","on-before-ok":m},{default:i(()=>[o(a,{model:e.form,"label-col-props":{flex:"100px"},"wrapper-col-props":{flex:1}},{default:i(()=>[o(n,{label:"accessKey"},{default:i(()=>[o(p,{modelValue:e.form.qiniu_accessKey,"onUpdate:modelValue":l[0]||(l[0]=s=>e.form.qiniu_accessKey=s),placeholder:"请输入七牛云accessKey"},null,8,["modelValue"])]),_:1}),o(n,{label:"secretKey"},{default:i(()=>[o(p,{modelValue:e.form.qiniu_secretKey,"onUpdate:modelValue":l[1]||(l[1]=s=>e.form.qiniu_secretKey=s),placeholder:"请输入七牛云secretKey "},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])):h("",!0)}}},J={key:0},L={__name:"CqkdTencent",setup(_,{expose:u}){const e=V({show:!1,form:{tencent_SecretId:"",tencent_SecretKey:""}});function t(){e.show=!0}async function m(){}return u({show:t}),(f,l)=>{const p=r("a-input"),n=r("a-form-item"),a=r("a-form"),c=r("a-modal");return e.show?(b(),v("div",J,[o(c,{title:"腾讯云配置",visible:e.show,"onUpdate:visible":l[2]||(l[2]=s=>e.show=s),width:"600px","on-before-ok":m},{default:i(()=>[o(a,{model:e.form,"label-col-props":{flex:"100px"},"wrapper-col-props":{flex:1}},{default:i(()=>[o(n,{label:"SecretId"},{default:i(()=>[o(p,{modelValue:e.form.tencent_SecretId,"onUpdate:modelValue":l[0]||(l[0]=s=>e.form.tencent_SecretId=s),placeholder:"请输入腾讯云SecretId"},null,8,["modelValue"])]),_:1}),o(n,{label:"SecretKey"},{default:i(()=>[o(p,{modelValue:e.form.tencent_SecretKey,"onUpdate:modelValue":l[1]||(l[1]=s=>e.form.tencent_SecretKey=s),placeholder:"请输入腾讯云SecretKey "},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])):h("",!0)}}},M={key:0},T={__name:"CqkdAliyun",setup(_,{expose:u}){const e=V({show:!1,form:{aliyun_accessKey:"",aliyun_accessKeySecret:""}});function t(){e.show=!0}async function m(){}return u({show:t}),(f,l)=>{const p=r("a-input"),n=r("a-form-item"),a=r("a-form"),c=r("a-modal");return e.show?(b(),v("div",M,[o(c,{title:"阿里云配置",visible:e.show,"onUpdate:visible":l[2]||(l[2]=s=>e.show=s),width:"600px","on-before-ok":m},{default:i(()=>[o(a,{model:e.form,"label-col-props":{flex:"140px"},"wrapper-col-props":{flex:1}},{default:i(()=>[o(n,{label:"Access Key ID"},{default:i(()=>[o(p,{modelValue:e.form.aliyun_accessKey,"onUpdate:modelValue":l[0]||(l[0]=s=>e.form.aliyun_accessKey=s),placeholder:"请输入阿里云Access Key ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"Access Key Secret"},{default:i(()=>[o(p,{modelValue:e.form.aliyun_accessKeySecret,"onUpdate:modelValue":l[1]||(l[1]=s=>e.form.aliyun_accessKeySecret=s),placeholder:"请输入阿里云Access Key Secret "},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])):h("",!0)}}},P="/admin/system/",I="admin/authorize/";function Q(_){return C({url:`${P}getConfig`,method:"post",data:{key:_}})}function j(_){return C({url:`${I}kunDianAuthorize`,method:"post",data:_})}function F(_){return C({url:`${I}kunDianSmsLoginCode`,method:"post",data:_})}const G={key:0},H={class:"verify-box"},W={__name:"CqkdSlideVerify",emits:["success"],setup(_,{expose:u,emit:e}){const t=e,m=V({show:!1});function f(){m.show=!0}const l=n=>{m.show=!1,t("success",n.verify)},p=n=>{w.error((n==null?void 0:n.message)||"验证失败")};return u({show:f}),(n,a)=>{const c=r("slider-verify"),s=r("a-modal");return m.show?(b(),v("div",G,[o(s,{"hide-title":"",visible:m.show,"onUpdate:visible":a[1]||(a[1]=k=>m.show=k),width:"360px",footer:null,"mask-closable":!1},{default:i(()=>[d("div",H,[d("i",{class:"ri-close-line",onClick:a[0]||(a[0]=k=>m.show=!1)}),o(c,{onOnSuccess:l,onOnError:p})])]),_:1},8,["visible"])])):h("",!0)}}},X=$(W,[["__scopeId","data-v-13957e35"]]),Z={key:0},ee={class:"auth-box"},oe={class:"ab-tab flex"},te={key:0},se={key:1},le={__name:"CqkdKundian",setup(_,{expose:u}){const e=x(),t=V({show:!1,type:1,form:{mobile:"",password:"",code:""},timer:0,count:60});function m(){t.show=!0,Q(["kun_dian_cloud_mobile","kun_dian_cloud_password"]).then(n=>{n.data.kun_dian_cloud_mobile&&(t.form.mobile=n.data.kun_dian_cloud_mobile),n.data.kun_dian_cloud_password&&(t.form.password=n.data.kun_dian_cloud_password)})}function f(){let{mobile:n}=t.form;if(!n){w.warning("请输入手机号");return}if(!/^1[3456789]\d{9}$/.test(n)){w.warning("手机号格式不正确");return}e.value.show()}function l(n){n&&F({mobile:t.form.mobile}).then(a=>{a.code===200?(w.success("短信已发送"),t.timer=setInterval(()=>{t.count<=0?(clearInterval(t.timer),t.timer=0,t.count=0):t.count--},1e3)):w.error(a.msg)})}async function p(){let n=JSON.parse(JSON.stringify(t.form)),a={mobile:n.mobile};if(!n.mobile)return w.warning("请输入手机号"),!1;if(t.type===1){if(!n.password)return w.warning("请输入密码"),!1;a.password=n.password}if(t.type===2){if(!n.code)return w.warning("请输入验证码"),!1;a.code=n.code}let c=await j(a);return c.code===200?(w.success("授权成功"),!0):(w.error(c.msg),!1)}return u({show:m}),(n,a)=>{const c=r("a-input"),s=r("a-form-item"),k=r("a-button"),S=r("a-form"),K=r("a-modal");return t.show?(b(),v("div",Z,[o(K,{title:"授权坤典云配置",visible:t.show,"onUpdate:visible":a[6]||(a[6]=y=>t.show=y),width:"500px","on-before-ok":p},{default:i(()=>[d("div",ee,[d("div",oe,[d("div",{class:U(["tab-item",{active:t.type===1}]),onClick:a[0]||(a[0]=y=>t.type=1)},"账号密码授权",2),d("div",{class:U(["tab-item",{active:t.type===2}]),onClick:a[1]||(a[1]=y=>t.type=2)},"验证码授权",2)])]),o(S,{model:t.form,"label-col-props":{flex:"100px"},"wrapper-col-props":{flex:1}},{default:i(()=>[t.type===1?(b(),v("div",te,[o(s,{label:"登录账号"},{default:i(()=>[o(c,{modelValue:t.form.mobile,"onUpdate:modelValue":a[2]||(a[2]=y=>t.form.mobile=y),placeholder:"请输入坤典云账号"},null,8,["modelValue"])]),_:1}),o(s,{label:"登录密码"},{default:i(()=>[o(c,{modelValue:t.form.password,"onUpdate:modelValue":a[3]||(a[3]=y=>t.form.password=y),type:"password",placeholder:"请输入坤典云密码"},null,8,["modelValue"])]),_:1})])):h("",!0),t.type===2?(b(),v("div",se,[o(s,{label:"登录账号"},{default:i(()=>[o(c,{modelValue:t.form.mobile,"onUpdate:modelValue":a[4]||(a[4]=y=>t.form.mobile=y),placeholder:"请输入坤典云账号"},null,8,["modelValue"]),o(k,{type:"primary",class:"ml20",disabled:t.timer,onClick:f},{default:i(()=>[g(q(t.timer?t.count+"s后重新发送":"发送验证码"),1)]),_:1},8,["disabled"])]),_:1}),o(s,{label:"验证码"},{default:i(()=>[o(c,{modelValue:t.form.code,"onUpdate:modelValue":a[5]||(a[5]=y=>t.form.code=y),placeholder:"请输入验证码"},null,8,["modelValue"])]),_:1})])):h("",!0)]),_:1},8,["model"])]),_:1},8,["visible"]),o(X,{ref_key:"verifyRef",ref:e,onSuccess:l},null,512)])):h("",!0)}}},ne=$(le,[["__scopeId","data-v-b5c49c7d"]]),ae={key:0},ie={__name:"CqkdImou",setup(_,{expose:u}){const e=V({show:!1,form:{imou_appId:"",imou_appSecret:""}});function t(){e.show=!0}async function m(){}return u({show:t}),(f,l)=>{const p=r("a-input"),n=r("a-form-item"),a=r("a-form"),c=r("a-modal");return e.show?(b(),v("div",ae,[o(c,{title:"乐橙配置",visible:e.show,"onUpdate:visible":l[2]||(l[2]=s=>e.show=s),width:"600px","on-before-ok":m},{default:i(()=>[o(a,{model:e.form,"label-col-props":{flex:"100px"},"wrapper-col-props":{flex:1}},{default:i(()=>[o(n,{label:"appId"},{default:i(()=>[o(p,{modelValue:e.form.imou_appId,"onUpdate:modelValue":l[0]||(l[0]=s=>e.form.imou_appId=s),placeholder:"请输入乐橙appId"},null,8,["modelValue"])]),_:1}),o(n,{label:"appSecret"},{default:i(()=>[o(p,{modelValue:e.form.imou_appSecret,"onUpdate:modelValue":l[1]||(l[1]=s=>e.form.imou_appSecret=s),placeholder:"请输入乐橙appSecret "},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])):h("",!0)}}},re={class:"kd-content"},de={class:"platform-item flex-cb"},me={class:"platform-item flex-cb"},pe={class:"platform-item flex-cb"},ce={__name:"platform",setup(_){const u=x(),e=x(),t=x(),m=x(),f=x(),l=x(),p=()=>u.value.show(),n=()=>f.value.show(),a=()=>l.value.show();return(c,s)=>{const k=r("a-button"),S=r("a-card"),K=r("kd-page-box");return b(),D(K,null,{default:i(()=>[d("div",re,[o(S,{title:"监控平台配置",bordered:!1},{default:i(()=>[d("div",de,[s[1]||(s[1]=d("div",{class:"flex"},[d("div",{class:"aliyun-icon",style:{"line-height":"90px"}},[d("img",{src:R,alt:""})]),d("div",{class:"platform-item-info"},[d("div",{class:"pi-title"},"坤典云"),d("div",{class:"pi-desc"},"引领传统农业转型升级")])],-1)),o(k,{type:"primary",class:"w120",onClick:n},{default:i(()=>s[0]||(s[0]=[g("配置")])),_:1,__:[0]})]),d("div",me,[s[3]||(s[3]=d("div",{class:"flex"},[d("div",{class:"hai-kang-icon"},[d("img",{src:A,class:"hai-kang",alt:""}),d("img",{src:N,class:"ying-shi",alt:""})]),d("div",{class:"platform-item-info"},[d("div",{class:"pi-title"},"海康威视 & 萤石云"),d("div",{class:"pi-desc"},"引领智能物联新未来")])],-1)),o(k,{type:"primary",disabled:"",class:"w120",onClick:p},{default:i(()=>s[2]||(s[2]=[g("开发中")])),_:1,__:[2]})]),d("div",pe,[s[5]||(s[5]=d("div",{class:"flex"},[d("div",{class:"aliyun-icon"},[d("img",{src:B,alt:""})]),d("div",{class:"platform-item-info"},[d("div",{class:"pi-title"},"乐橙"),d("div",{class:"pi-desc"},"简单、安全、智能")])],-1)),o(k,{type:"primary",disabled:"",class:"w120",onClick:a},{default:i(()=>s[4]||(s[4]=[g("开发中")])),_:1,__:[4]})])]),_:1}),o(Y,{ref_key:"yingShiRef",ref:u},null,512),o(E,{ref_key:"qiniuRef",ref:e},null,512),o(L,{ref_key:"tencentRef",ref:t},null,512),o(T,{ref_key:"aliyunRef",ref:m},null,512),o(ne,{ref_key:"kundianRef",ref:f},null,512),o(ie,{ref_key:"imouRef",ref:l},null,512)])]),_:1})}}},_e=$(ce,[["__scopeId","data-v-f9f4aaa4"]]);export{_e as default};
